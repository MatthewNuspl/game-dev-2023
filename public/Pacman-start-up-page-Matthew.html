<body>
<script>
const pacman = document.getElementById('pacman');
const ghosts = document.querySelectorAll('.ghost');

let pacmanRotation = 0;

document.addEventListener('keydown', handleKeyPress);

function handleKeyPress(event) {
    switch (event.key.toLowerCase()) {
        case 'w':
            movePacman(0, -40);
            pacmanRotation = 0;
            break;
        case 'a':
            movePacman(-40, 0);
            pacmanRotation = 270;
            break;
        case 's':
            movePacman(0, 40);
            pacmanRotation = 180;
            break;
        case 'd':
            movePacman(40, 0);
            pacmanRotation = 90;
            break;
    }

    pacman.style.transform = `rotate(${pacmanRotation}deg)`;
}

function movePacman(dx, dy) {
    const pacmanRect = pacman.getBoundingClientRect();
    const gameRect = document.getElementById('game-container').getBoundingClientRect();

    if (
        pacmanRect.left + dx >= gameRect.left &&
        pacmanRect.right + dx <= gameRect.right &&
        pacmanRect.top + dy >= gameRect.top &&
        pacmanRect.bottom + dy <= gameRect.bottom
    ) {
        pacman.style.left = `${pacmanRect.left + dx}px`;
        pacman.style.top = `${pacmanRect.top + dy}px`;
    }
}
</body>
</script>
